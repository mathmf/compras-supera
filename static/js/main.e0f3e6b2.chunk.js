(this["webpackJsonpcompras-supera"]=this["webpackJsonpcompras-supera"]||[]).push([[0],{26:function(e,t,c){},27:function(e,t,c){},34:function(e,t,c){},35:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),r=c(19),s=c.n(r),i=(c(26),c.p,c(27),c(15)),o=c(2),d=c(0),l=function(){var e=Object(o.f)();return Object(d.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:[Object(d.jsx)("a",{className:"navbar-brand ",style:{color:"#fff"},children:"Navbar"}),Object(d.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:Object(d.jsxs)("ul",{className:"navbar-nav me-auto ",children:[Object(d.jsx)("li",{className:"nav-item active",children:Object(d.jsx)("a",{className:"nav-link active",href:"javascript:void(0)","aria-current":"page",onClick:function(){return e.push("/")},children:"Inicio"})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)("a",{className:"nav-link active",href:"javascript:void(0)","aria-current":"page",onClick:function(){return e.push("/shop")},children:"Loja"})})]})}),Object(d.jsx)("a",{className:"navbar-brand",href:"javascript:void(0)",onClick:function(){return e.push("/cart")},children:Object(d.jsx)("img",{src:"".concat("/compras-supera","/assets/images/cart-icon.svg"),alt:"",width:"30",height:"24"})})]})},j=function(){return Object(d.jsxs)("div",{children:[Object(d.jsx)(l,{}),Object(d.jsx)("h1",{children:"Home"})]})},u=c(3),b=c(21),p=c(9);function m(e,t){return e.sort((function(e,c){return e[t]>c[t]?1:c[t]>e[t]?-1:0}))}function h(e,t){return e.sort((function(e,c){return e[t]>c[t]?-1:c[t]>e[t]?1:0}))}var O=function(e,t){var c,n,a,r;switch(t.type){case"SET_GAMES":return Object(u.a)(Object(u.a)({},e),{},{games:Object(p.a)(t.payload)});case"SORT_BY_PRICE":return c="asc"===t.payload.direction?m(e.games,"price"):h(e.games,"price"),console.log(e.count),Object(u.a)(Object(u.a)({},e),{},{games:c});case"SORT_BY_SCORE":return c="asc"===t.payload.direction?m(e.games,"score"):h(e.games,"score"),Object(u.a)(Object(u.a)({},e),{},{games:c});case"SORT_BY_NAME":return c="asc"===t.payload.direction?m(e.games,"name"):h(e.games,"name"),Object(u.a)(Object(u.a)({},e),{},{games:c});case"ADD_ITEM":return e.cart.find((function(e){return e.id===t.payload.id}))||(e.cart.push(Object(u.a)(Object(u.a)({},t.payload),{},{quantity:1})),e.count++,e.total+=t.payload.price),Object(u.a)(Object(u.a)({},e),{},{cart:Object(p.a)(e.cart),count:e.count,total:e.total});case"REMOVE_ITEM":return n=e.cart[e.cart.findIndex((function(e){return e.id===t.payload.id}))].quantity,a=e.count-n,r=e.total-n*e.cart[e.cart.findIndex((function(e){return e.id===t.payload.id}))].price,Object(u.a)(Object(u.a)({},e),{},{cart:Object(p.a)(e.cart.filter((function(e){return e.id!==t.payload.id}))),count:a,total:r});case"INCREASE":return(n=JSON.parse(JSON.stringify(e.cart)))[e.cart.findIndex((function(e){return e.id===t.payload.id}))].quantity++,a=e.count+1,r=e.total+e.cart[e.cart.findIndex((function(e){return e.id===t.payload.id}))].price,Object(u.a)(Object(u.a)({},e),{},{cart:Object(p.a)(n),count:a,total:r});case"DECREASE":return(n=JSON.parse(JSON.stringify(e.cart)))[e.cart.findIndex((function(e){return e.id===t.payload.id}))].quantity--,a=e.count-1,r=e.total-e.cart[e.cart.findIndex((function(e){return e.id===t.payload.id}))].price,Object(u.a)(Object(u.a)({},e),{},{cart:Object(p.a)(n),count:a,total:r});default:return e}},x=Object(n.createContext)(),f={games:[],cart:[],count:0,total:0},y=function(e){var t=e.children,c=Object(n.useReducer)(O,f),a=Object(b.a)(c,2),r=a[0],s=a[1],i=Object(u.a)({setGames:function(e){s({type:"SET_GAMES",payload:e})},sortByPrice:function(e){s({type:"SORT_BY_PRICE",payload:e})},sortByScore:function(e){s({type:"SORT_BY_SCORE",payload:e})},sortByName:function(e){s({type:"SORT_BY_NAME",payload:e})},increase:function(e){s({type:"INCREASE",payload:e})},decrease:function(e){s({type:"DECREASE",payload:e})},addItem:function(e){s({type:"ADD_ITEM",payload:e})},removeItem:function(e){s({type:"REMOVE_ITEM",payload:e})}},r);return Object(d.jsx)(x.Provider,{value:i,children:t})},g=function(e){var t=e.game,c=Object(n.useContext)(x),a=c.increase,r=c.decrease,s=c.removeItem;return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:Object(d.jsx)("img",{style:{margin:"0 auto",maxHeight:"50px"},src:"".concat("/compras-supera","/assets/images/")+t.image,className:"img-fluid d-block"})}),Object(d.jsx)("td",{children:t.name}),Object(d.jsx)("td",{children:t.price.toLocaleString("pt-br",{style:"currency",currency:"BRL"})}),Object(d.jsxs)("td",{children:[Object(d.jsx)("button",{onClick:function(){return a(t)},className:"btn btn-primary btn-sm mr-2 mb-1",style:{width:"30px"},children:"+"}),t.quantity,t.quantity>1&&Object(d.jsx)("button",{onClick:function(){return r(t)},className:"btn btn-danger btn-sm mb-1",style:{width:"30px",marginLeft:"10px"},children:"-"}),1===t.quantity&&Object(d.jsx)("button",{onClick:function(){return s(t)},className:"btn btn-danger btn-sm mb-1",style:{width:"30px",marginLeft:"10px"},children:"-"})]}),Object(d.jsx)("td",{children:(t.quantity*t.price).toLocaleString("pt-br",{style:"currency",currency:"BRL"})})]})},v=function(){var e=Object(n.useContext)(x).cart;return Object(d.jsxs)("table",{className:"table table-striped",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{scope:"col",children:"Imagem"}),Object(d.jsx)("th",{scope:"col",children:"Nome"}),Object(d.jsx)("th",{scope:"col",children:"Pre\xe7o"}),Object(d.jsx)("th",{scope:"col",children:"Quantidade"}),Object(d.jsx)("th",{scope:"col",children:"Total"})]})}),Object(d.jsx)("tbody",{children:e.map((function(e){return Object(d.jsx)(g,{game:e},e.id)}))})]})},N=function(){var e=Object(n.useContext)(x),t=(e.cart,e.count),c=e.total;return Object(d.jsx)("div",{className:"d-inline-flex justify-content-center",children:Object(d.jsxs)("div",{className:"card",style:{width:"300px"},children:[Object(d.jsx)("h5",{className:"card-header text-center",children:"Checkout"}),Object(d.jsxs)("div",{className:"card-body",children:[Object(d.jsxs)("p",{className:"mb-3",children:[" Subtotal : ",c.toLocaleString("pt-br",{style:"currency",currency:"BRL"})]}),c>=250&&Object(d.jsx)("h4",{className:" mb-3 txt-right",children:"Frete : Gr\xe1tis"}),c<250&&Object(d.jsxs)("h4",{className:" mb-3 txt-right",children:["Frete : ",(10*t).toLocaleString("pt-br",{style:"currency",currency:"BRL"})]}),c>=250&&Object(d.jsxs)("h4",{className:" mb-3 txt-right",children:["Total : ",c.toLocaleString("pt-br",{style:"currency",currency:"BRL"})]}),c<250&&Object(d.jsxs)("h4",{className:" mb-3 txt-right",children:["Total : ",(c+10*t).toLocaleString("pt-br",{style:"currency",currency:"BRL"})]}),Object(d.jsx)("button",{type:"button",className:"mt-auto  btn btn-lg  btn-primary",children:" Comprar "})]})]})})},C=function(){var e=Object(n.useContext)(x).count;return Object(d.jsxs)("div",{children:[Object(d.jsx)(l,{}),Object(d.jsx)("h1",{children:"Carrinho"}),0===e&&Object(d.jsx)("h1",{children:"Carrinho Vazio"}),e>0&&Object(d.jsx)(v,{}),e>0&&Object(d.jsx)(N,{})]})},S=function(){var e=Object(n.useContext)(x),t=e.sortByPrice,c=e.sortByScore,a=e.sortByName;return Object(d.jsxs)("div",{className:"dropdown",children:[Object(d.jsx)("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:"Ordenar por:"}),Object(d.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton",children:[Object(d.jsx)("a",{className:"dropdown-item",href:"javascript:void(0)",onClick:function(){return a({direction:"asc"})},children:"Nome A-Z"}),Object(d.jsx)("a",{className:"dropdown-item",href:"javascript:void(0)",onClick:function(){return a({direction:"desc"})},children:"Nome Z-A"}),Object(d.jsx)("a",{className:"dropdown-item",href:"javascript:void(0)",onClick:function(){return t({direction:"asc"})},children:"Menor Pre\xe7o"}),Object(d.jsx)("a",{className:"dropdown-item",href:"javascript:void(0)",onClick:function(){return t({direction:"desc"})},children:"Maior Pre\xe7o"}),Object(d.jsx)("a",{className:"dropdown-item",href:"javascript:void(0)",onClick:function(){return c({direction:"desc"})},children:"Maior Nota"}),Object(d.jsx)("a",{className:"dropdown-item",href:"javascript:void(0)",onClick:function(){return c({direction:"asc"})},children:"Menor Nota"})]})]})},E=function(e){var t=e.game,c=Object(n.useContext)(x),a=c.addItem,r=c.cart,s=c.increase,i=function(e){return!!r.find((function(t){return t.id===e.id}))};return Object(d.jsxs)("div",{className:"card",style:{width:"300px"},children:[Object(d.jsx)("img",{className:"card-img-top img-fluid",style:{display:"block",margin:"0 auto 10px",maxHeight:"200px",maxWidth:"200px"},src:"".concat("/compras-supera","/assets/images/")+t.image}),Object(d.jsxs)("div",{className:"card-body d-flex flex-column",children:[Object(d.jsx)("h4",{className:"card-title",children:t.name}),Object(d.jsx)("h4",{className:"card-title",children:t.price.toLocaleString("pt-br",{style:"currency",currency:"BRL"})}),Object(d.jsx)("p",{className:"card-text",children:Object(d.jsx)("small",{children:"nota :"+t.score})}),i(t)&&Object(d.jsx)("button",{type:"button",className:"mt-auto  btn btn-lg btn-block btn-primary",onClick:function(){return s(t)},children:" Adicionar Outro "}),!i(t)&&Object(d.jsx)("button",{type:"button",className:"mt-auto  btn btn-lg btn-block btn-primary",onClick:function(){return a(t)},children:" Adicionar ao Carrinho "})]})]})},k=(c(34),function(){var e=Object(n.useContext)(x).games;return Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("div",{className:"row",children:e.map((function(e){return Object(d.jsx)("div",{className:"col-sm-4",children:Object(d.jsx)(E,{game:e},e.id)})}))})})}),R=function(){var e=Object(n.useContext)(x),t=e.setGames,c=e.games;return 0==c.length?(console.log("oi"),fetch("data/products.json",{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e),t(e)})).catch((function(e){console.log(e," error")})),console.log(c)):console.log(c.length),Object(d.jsxs)("div",{children:[Object(d.jsx)(l,{}),Object(d.jsx)("h1",{children:"Shop"}),"undefined"==typeof c&&Object(d.jsx)("h1",{children:"Carregando Loja"}),"undefined"!==typeof c&&c.length>0&&Object(d.jsx)(S,{}),"undefined"!==typeof c&&c.length>0&&Object(d.jsx)(k,{})]})},B=function(){return Object(d.jsx)(i.a,{basename:"/",children:Object(d.jsxs)(o.c,{children:[Object(d.jsx)(o.a,{path:"/",component:j,exact:!0}),Object(d.jsx)(o.a,{path:"/cart",component:C}),Object(d.jsx)(o.a,{path:"/shop",component:R}),Object(d.jsx)(o.a,{component:Error})]})})};var w=function(){return Object(d.jsx)("div",{className:"App",children:Object(d.jsx)(y,{children:Object(d.jsx)(B,{})})})},I=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,36)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),r(e),s(e)}))};s.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(w,{})}),document.getElementById("root")),I()}},[[35,1,2]]]);
//# sourceMappingURL=main.e0f3e6b2.chunk.js.map