(this["webpackJsonpcompras-supera"]=this["webpackJsonpcompras-supera"]||[]).push([[0],{26:function(t,e,c){},27:function(t,e,c){},34:function(t,e,c){},35:function(t,e,c){"use strict";c.r(e);var n=c(1),a=c.n(n),r=c(19),i=c.n(r),s=(c(26),c.p,c(27),c(15)),o=c(3),l=c(0),d=function(){var t=Object(o.f)();return Object(l.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:[Object(l.jsx)("a",{className:"navbar-brand ",style:{color:"#fff"},children:"Navbar"}),Object(l.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:Object(l.jsxs)("ul",{className:"navbar-nav me-auto ",children:[Object(l.jsx)("li",{className:"nav-item active",children:Object(l.jsx)("a",{className:"nav-link active",href:"javascript:void(0)","aria-current":"page",onClick:function(){return t.push("/")},children:"Inicio"})}),Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)("a",{className:"nav-link active",href:"javascript:void(0)","aria-current":"page",onClick:function(){return t.push("/shop")},children:"Loja"})})]})}),Object(l.jsx)("a",{className:"navbar-brand",href:"javascript:void(0)",onClick:function(){return t.push("/cart")},children:Object(l.jsx)("img",{src:"".concat("/compras-supera","/assets/images/cart-icon.svg"),alt:"",width:"30",height:"24"})})]})},j=function(){return Object(l.jsxs)("div",{children:[Object(l.jsx)(d,{}),Object(l.jsx)("h1",{children:"P\xe1gina Inicial"})]})},u=c(2),b=c(21),p=c(9);function m(t,e){return t.sort((function(t,c){return t[e]>c[e]?1:c[e]>t[e]?-1:0}))}function h(t,e){return t.sort((function(t,c){return t[e]>c[e]?-1:c[e]>t[e]?1:0}))}var O=function(t,e){var c,n,a,r;switch(e.type){case"SET_GAMES":return Object(u.a)(Object(u.a)({},t),{},{games:Object(p.a)(e.payload)});case"SORT_BY_PRICE":return c="asc"===e.payload.direction?m(t.games,"price"):h(t.games,"price"),console.log(t.count),Object(u.a)(Object(u.a)({},t),{},{games:c});case"SORT_BY_SCORE":return c="asc"===e.payload.direction?m(t.games,"score"):h(t.games,"score"),Object(u.a)(Object(u.a)({},t),{},{games:c});case"SORT_BY_NAME":return c="asc"===e.payload.direction?m(t.games,"name"):h(t.games,"name"),Object(u.a)(Object(u.a)({},t),{},{games:c});case"ADD_ITEM":return t.cart.find((function(t){return t.id===e.payload.id}))||(t.cart.push(Object(u.a)(Object(u.a)({},e.payload),{},{quantity:1})),t.count++,t.total+=e.payload.price),Object(u.a)(Object(u.a)({},t),{},{cart:Object(p.a)(t.cart),count:t.count,total:t.total});case"REMOVE_ITEM":return n=t.cart[t.cart.findIndex((function(t){return t.id===e.payload.id}))].quantity,a=t.count-n,r=t.total-n*t.cart[t.cart.findIndex((function(t){return t.id===e.payload.id}))].price,Object(u.a)(Object(u.a)({},t),{},{cart:Object(p.a)(t.cart.filter((function(t){return t.id!==e.payload.id}))),count:a,total:r});case"INCREASE":return(n=JSON.parse(JSON.stringify(t.cart)))[t.cart.findIndex((function(t){return t.id===e.payload.id}))].quantity++,a=t.count+1,r=t.total+t.cart[t.cart.findIndex((function(t){return t.id===e.payload.id}))].price,Object(u.a)(Object(u.a)({},t),{},{cart:Object(p.a)(n),count:a,total:r});case"DECREASE":return(n=JSON.parse(JSON.stringify(t.cart)))[t.cart.findIndex((function(t){return t.id===e.payload.id}))].quantity--,a=t.count-1,r=t.total-t.cart[t.cart.findIndex((function(t){return t.id===e.payload.id}))].price,Object(u.a)(Object(u.a)({},t),{},{cart:Object(p.a)(n),count:a,total:r});case"CLEAR":return Object(u.a)(Object(u.a)({},t),{},{cart:[],count:0,total:0});default:return t}},x=Object(n.createContext)(),f={games:[],cart:[],count:0,total:0},y=function(t){var e=t.children,c=Object(n.useReducer)(O,f),a=Object(b.a)(c,2),r=a[0],i=a[1],s=Object(u.a)({setGames:function(t){i({type:"SET_GAMES",payload:t})},sortByPrice:function(t){i({type:"SORT_BY_PRICE",payload:t})},sortByScore:function(t){i({type:"SORT_BY_SCORE",payload:t})},sortByName:function(t){i({type:"SORT_BY_NAME",payload:t})},increase:function(t){i({type:"INCREASE",payload:t})},decrease:function(t){i({type:"DECREASE",payload:t})},addItem:function(t){i({type:"ADD_ITEM",payload:t})},removeItem:function(t){i({type:"REMOVE_ITEM",payload:t})},clear:function(){i({type:"CLEAR"})}},r);return Object(l.jsx)(x.Provider,{value:s,children:e})},g=function(t){var e=t.game,c=Object(n.useContext)(x),a=c.increase,r=c.decrease,i=c.removeItem;return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:Object(l.jsx)("img",{style:{margin:"0 auto",maxHeight:"50px"},src:"".concat("/compras-supera","/assets/images/")+e.image,className:"img-fluid d-block"})}),Object(l.jsx)("td",{children:e.name}),Object(l.jsx)("td",{children:e.price.toLocaleString("pt-br",{style:"currency",currency:"BRL"})}),Object(l.jsxs)("td",{children:[Object(l.jsx)("button",{onClick:function(){return a(e)},className:"btn btn-primary btn-sm mr-2 mb-1",style:{width:"30px"},children:"+"}),e.quantity,e.quantity>1&&Object(l.jsx)("button",{onClick:function(){return r(e)},className:"btn btn-danger btn-sm mb-1",style:{width:"30px",marginLeft:"10px"},children:"-"}),1===e.quantity&&Object(l.jsx)("button",{onClick:function(){return i(e)},className:"btn btn-danger btn-sm mb-1",style:{width:"30px",marginLeft:"10px"},children:"-"})]}),Object(l.jsx)("td",{children:(e.quantity*e.price).toLocaleString("pt-br",{style:"currency",currency:"BRL"})})]})},v=function(){var t=Object(n.useContext)(x).cart;return Object(l.jsxs)("table",{className:"table table-striped",children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{scope:"col",children:"Imagem"}),Object(l.jsx)("th",{scope:"col",children:"Nome"}),Object(l.jsx)("th",{scope:"col",children:"Pre\xe7o"}),Object(l.jsx)("th",{scope:"col",children:"Quantidade"}),Object(l.jsx)("th",{scope:"col",children:"Total"})]})}),Object(l.jsx)("tbody",{children:t.map((function(t){return Object(l.jsx)(g,{game:t},t.id)}))})]})},N=function(){var t=Object(n.useContext)(x),e=(t.cart,t.count),c=t.total,a=t.clear;return Object(l.jsx)("div",{className:"d-inline-flex justify-content-center",children:Object(l.jsxs)("div",{className:"card",style:{width:"300px"},children:[Object(l.jsx)("h5",{className:"card-header text-center",children:"Checkout"}),Object(l.jsxs)("div",{className:"card-body",children:[Object(l.jsxs)("p",{className:"mb-3",children:[" Subtotal : ",c.toLocaleString("pt-br",{style:"currency",currency:"BRL"})]}),c>=250&&Object(l.jsx)("h4",{className:" mb-3 txt-right",children:"Frete : Gr\xe1tis"}),c<250&&Object(l.jsxs)("h4",{className:" mb-3 txt-right",children:["Frete : ",(10*e).toLocaleString("pt-br",{style:"currency",currency:"BRL"})]}),c>=250&&Object(l.jsxs)("h4",{className:" mb-3 txt-right",children:["Total : ",c.toLocaleString("pt-br",{style:"currency",currency:"BRL"})]}),c<250&&Object(l.jsxs)("h4",{className:" mb-3 txt-right",children:["Total : ",(c+10*e).toLocaleString("pt-br",{style:"currency",currency:"BRL"})]}),Object(l.jsxs)("div",{className:"row justify-content-around",children:[Object(l.jsx)("button",{type:"button",className:"mt-auto  btn btn-lg  btn-danger",onClick:function(){return a()},children:" Limpar  "}),Object(l.jsx)("button",{type:"button",className:"mt-auto  btn btn-lg  btn-primary",style:{display:"inline-block",verticalAlign:"top"},children:" Comprar "})]})]})]})})},C=function(){var t=Object(n.useContext)(x).count;return Object(l.jsxs)("div",{children:[Object(l.jsx)(d,{}),Object(l.jsx)("h1",{children:"Carrinho"}),0===t&&Object(l.jsx)("h1",{children:"Carrinho Vazio"}),t>0&&Object(l.jsx)(v,{}),t>0&&Object(l.jsx)(N,{})]})},E=function(){var t=Object(n.useContext)(x),e=t.sortByPrice,c=t.sortByScore,a=t.sortByName;return Object(l.jsxs)("div",{className:"dropdown",children:[Object(l.jsx)("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:"Ordenar por:"}),Object(l.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton",children:[Object(l.jsx)("a",{className:"dropdown-item",href:"javascript:void(0)",onClick:function(){return a({direction:"asc"})},children:"Nome A-Z"}),Object(l.jsx)("a",{className:"dropdown-item",href:"javascript:void(0)",onClick:function(){return a({direction:"desc"})},children:"Nome Z-A"}),Object(l.jsx)("a",{className:"dropdown-item",href:"javascript:void(0)",onClick:function(){return e({direction:"asc"})},children:"Menor Pre\xe7o"}),Object(l.jsx)("a",{className:"dropdown-item",href:"javascript:void(0)",onClick:function(){return e({direction:"desc"})},children:"Maior Pre\xe7o"}),Object(l.jsx)("a",{className:"dropdown-item",href:"javascript:void(0)",onClick:function(){return c({direction:"desc"})},children:"Maior Nota"}),Object(l.jsx)("a",{className:"dropdown-item",href:"javascript:void(0)",onClick:function(){return c({direction:"asc"})},children:"Menor Nota"})]})]})},S=function(t){var e=t.game,c=Object(n.useContext)(x),a=c.addItem,r=c.cart,i=c.increase,s=function(t){return!!r.find((function(e){return e.id===t.id}))};return Object(l.jsxs)("div",{className:"card",style:{width:"300px"},children:[Object(l.jsx)("img",{className:"card-img-top img-fluid",style:{display:"block",margin:"0 auto 10px",maxHeight:"200px",maxWidth:"200px"},src:"".concat("/compras-supera","/assets/images/")+e.image}),Object(l.jsxs)("div",{className:"card-body d-flex flex-column",children:[Object(l.jsx)("h4",{className:"card-title",children:e.name}),Object(l.jsx)("h4",{className:"card-title",children:e.price.toLocaleString("pt-br",{style:"currency",currency:"BRL"})}),Object(l.jsx)("p",{className:"card-text",children:Object(l.jsx)("small",{children:"nota :"+e.score})}),s(e)&&Object(l.jsx)("button",{type:"button",className:"mt-auto  btn btn-lg btn-block btn-primary",onClick:function(){return i(e)},children:" Adicionar Outro "}),!s(e)&&Object(l.jsx)("button",{type:"button",className:"mt-auto  btn btn-lg btn-block btn-primary",onClick:function(){return a(e)},children:" Adicionar ao Carrinho "})]})]})},k=(c(34),function(){var t=Object(n.useContext)(x).games;return Object(l.jsx)("div",{className:"container",children:Object(l.jsx)("div",{className:"row",children:t.map((function(t){return Object(l.jsx)("div",{className:"col-sm-4",children:Object(l.jsx)(S,{game:t},t.id)})}))})})}),R=function(){var t=Object(n.useContext)(x),e=t.setGames,c=t.games;return 0==c.length?(console.log("oi"),fetch("data/products.json",{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(t){return t.json()})).then((function(t){console.log(t),e(t)})).catch((function(t){console.log(t," error")})),console.log(c)):console.log(c.length),Object(l.jsxs)("div",{children:[Object(l.jsx)(d,{}),Object(l.jsx)("h1",{children:"Loja"}),"undefined"==typeof c&&Object(l.jsx)("h1",{children:"Carregando Loja"}),"undefined"!==typeof c&&c.length>0&&Object(l.jsx)(E,{}),"undefined"!==typeof c&&c.length>0&&Object(l.jsx)(k,{})]})},L=function(){return Object(l.jsx)(s.a,{basename:"/",children:Object(l.jsxs)(o.c,{children:[Object(l.jsx)(o.a,{path:"/",component:j,exact:!0}),Object(l.jsx)(o.a,{path:"/cart",component:C}),Object(l.jsx)(o.a,{path:"/shop",component:R}),Object(l.jsx)(o.a,{component:Error})]})})};var w=function(){return Object(l.jsx)("div",{className:"App",children:Object(l.jsx)(y,{children:Object(l.jsx)(L,{})})})},B=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,36)).then((function(e){var c=e.getCLS,n=e.getFID,a=e.getFCP,r=e.getLCP,i=e.getTTFB;c(t),n(t),a(t),r(t),i(t)}))};i.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(w,{})}),document.getElementById("root")),B()}},[[35,1,2]]]);
//# sourceMappingURL=main.307d30a4.chunk.js.map